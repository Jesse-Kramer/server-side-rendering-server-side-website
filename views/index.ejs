<%- include('./partials/head') %>

    <main>
        <section>
            <h2>Categories</h2>
            <% categories.forEach(category=> { %>
                <h3>
                    <%= category.name %>
                </h3>
                <% }); %>
        </section>

        <section>
            <h2>Posts</h2>
            <% posts.forEach(post=> { %>
                <h3>
                    <% renderedContent=post.title.rendered ; post_title=renderedContent.replace(/(<([^>]+)>)/gi,
                        "");

                        post_title = post_title.replace(/&#[0-9]+;/g, function(entity) {
                        return String.fromCharCode(entity.substring(2, entity.length - 1));
                        });

                        %>
                        <%= post_title %>
                </h3>

                <span>Category: <%= post.categories %></span>
                <!-- Categorie moet opgehaald worden, eerst data uit de categorie halen (naam)-->
                <span>Author: <%= post.yoast_head_json.author %></span>
                <span>Reading time:</span> <!-- Hier moet nog naar gekeken worden.-->
                <p>
                    <% // Assuming your JSON object is stored in a variable called post const
                        renderedContent=post.content.rendered; // Remove HTML tags let
                        textWithoutHTML=renderedContent.replace(/(<([^>]+)>)/gi, "");

                        // Decode HTML entities
                        textWithoutHTML = textWithoutHTML.replace(/&#[0-9]+;/g, function(entity) {
                        return String.fromCharCode(entity.substring(2, entity.length - 1));
                        });

                        // Replace &nbsp; with regular space
                        textWithoutHTML = textWithoutHTML.replace(/&nbsp;/g, ' ');

                        // Output the decoded text
                        %>
                        <%= textWithoutHTML %>
                </p>
                <h3>image</h3>
                <img src="<%= post.jetpack_featured_media_url %>" alt="">
                <% }); %>
        </section>

        <section>
            <h2>Users</h2>
            <% users.forEach(user=> { %>
                <h3>
                    <%= user.name %>
                </h3>
                <p>
                    <%= user.description %>
                </p>
                <% }); %>
        </section>
    </main>

    <%- include('./partials/foot') %>